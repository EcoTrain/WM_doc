---
id: release_notes
title: Заметки релизов
slug: /releases/notes
---

## v2.0

- [ ] Текстовый редактор формул в конструкторе дневников

WYSIWYG редактор текста с подстановкой математических операторов и выбраных переменных

- [ ] API 2.0 с автодокументацией и новой структурой

Обновленная структура БД и API.  
Автодокументация API (отдельная техническая документация)

- [ ] MongoDB -> PostgreSQL

Связность сущностей, нормальная форма БД, отсутствие дублирования информации.  
Быстрее запросы, меньшее количество запросов к БД при помощи ключей отношений между сущностями БД.

- [ ] Логирование всех транзакций (MongoDB)

## v1.1

### Сборка №26 (future)

QR:

- [ ] Настройки доступа
  - - [ ] Время жизни QR кода
  - - [ ] Открытие/закрытие доступа к информации по нему
  - - [ ] Поделиться через другие приложения

Планировщик:

- [ ] Выбор периода актуальности события
- [ ] Выбор нескольких периодов в режиме медикамента
- [ ] Группировка событий (на одно время и дату)
- [ ] Уведомления о событиях
- [ ] Отметка о выполнении событий
- [ ] Привязка выполнения к истории
- [ ] Модальное окно выбора типа события
- [ ] Фильтрация событий по типам
- [ ] Новые типы событий
  - - [ ] Запись на прием к врачу
  - - [ ] Напоминание о ведении дневника

Авторизация:

- [ ] Вход по токенам для каждого устройства и возможность 'Выйти на всех устройствах'

### Сборка №25

Оффлайн:

- [x] Восстановлен оффлайн режим (подстановка локальных данных при отсутствии сети)
- [x] Подстановка локальных данных до ответа сервера (кеш приложения, нет задержки ожидания)

Планировщик:

- [x] Смена цветовой темы календаря под тему приложения

PIN:

- [x] Увеличено максимальное количество попыток ввода до 4

### Сборка №24

Общее:

- [x] Динамическое изменение высоты многострочных полей ввода

Профиль:

- [x] Исправлено редактирование информации профиля
- [x] Переключение размера окна приложения (2 режима - оконный/полноэкранный)
- [x] Изменен полноэкранный вид приложения в веб-версии

Дневники:

- [x] Исправлено удаление переменных. При удалении они помечаются в логах дневников как удалённые.
- [x] Вввод нескольких переменных представлен в виде формы
- [x] Добавлена возможность не заполнять все поля (поставляются последние значения лога)

Планировщик:

- [x] Всплывающее окно с календарём (Popup)

### Сборка №23

Общее:

- [x] (iOS) Скролл на многострочные поля ввода при нажатии на поле

QR:

- [x] Уникальные и понятные имена сохраненных QR изображений
- [x] Сохранение изображения QR кода в файл (Веб браузер)
- [x] Копирование изображения и ссылки (отдельно, 2 кнопки)
- [x] Опция "Поделиться" через другие приложения (Веб браузер)

### Сборка №22

Общее:

- [x] Добавлены всплывающие уведомления (тосты)
- [x] Кнопки навигации приведены к стандартному виду (шаблон ОС)
- [x] Убрана рамка веб сайта на мобильных браузерах (вид как и в приложении)

Чат:

- [x] (веб) Расширенный список форматов документов
- [x] (веб) Расширенный список форматов изображений
- [x] Валидация типа файла, проверка размера и запрет на отправку исполняемых файлов
- [x] Улучшен расчет времени в разделителях сообщений по дням (датам)
- [x] Оптимизирован рендер списков. Убрана переотрисовка сообщений. Перерисовывается одно активное сообщение (нвоое или редактируемое)
- [x] Оптимизирован расчет времени (варьируется интервал перерасчета и отрисовки)
- [x] Сохранние состояний всех чатов

QR:

- [x] Просмотр отдельных событий в планировщике
- [x] Просмотр медикамента
- [x] Копирование ссылки в буфер обмена
- [x] Опция "Поделиться" через другие приложения (Мобильное приложение)
- [x] Сохранение изображения QR кода в файл (Мобильное приложение)

### Сборка №21

Чат:

- [x] Изменение вида чата
- [x] Выбор сообщений одним нажатием
- [x] Выбор сообщений и редактирование не зависимы друг от друга
- [x] Добавление/удаление файлов на сервере при редактировании сообщений
- [x] Проверка изменений при редактировании. При отсутствии изменений сообщение не отправляется еще раз
- [x] Панель заметки о редактировании
- [x] Переход на сообщение с панели редактирования
- [x] Восстановлена и отлажена работа с камерой (веб/мобил)
- [x] Восстановлена и отлажена работа с документами (веб/мобил)

### Сборка №20

QR коды:

- [x] Генерация QR и просмотр информации по ним (дневник/планировщик)
- [x] Изменен стиль календаря в браузере
- [x] Добавлена шапка с названием окна в главные разделы

Авторизация

- [x] Хеширование пароля на клиенте, передача в шифрованном виде
- [x] Повтор пароля при регистрации
- [x] Убрана авторизация сразу после регистрации (исправлен баг)
- [x] Изменены сообщения авторизации (уведомления)

:::info Генерация QR
Генерация QR ссылки производится на сервере в целях информационной безопасности. Для получения QR необходима связь с сервером (подключение к сети).
:::

### Сборка №19

- [x] Увеличена область кнопки глаза на поле ввода пароля
- [x] Исправлен переход в просмотр линейного графика по клику на график
- [x] Ориентация линии прогресса привязана к ориентации экрана
- [x] Исправлено обновление данных в БД (дневники/медикаменты)
- [x] Исправлено обновление данных на устройствах (слияние данных локальной и общей БД)
- [x] Изменен стиль медикаментов, вынесена заметка на виджет
- [x] Добавлены ограничения длины текста в конструкторах
- [x] Увеличен объем текста на панелях событий в планировщике

### Сборка №17-18

ПИН код

- [x] Исправлен сброс ПИН-кода
- [x] Удалена кнопка закрытия приложения

Конструктор дневника:

- [x] Обновление интервала агрегации в зависимости от периода

Общее:

- [x] Изменены стили медикаментов и событий в планировщике
- [x] Размытие текста при выходе за границы контейнера
- [x] Добавлены заголовки полей в настройках профиля

### Сборка №16

- [x] Динамическое изменение навигационной шапки
- [x] Округление дробной части в подписях на осях графика дневника

### Сборка №15

- [x] Проверка наличия данных перед корвертацией датасета дневников
- [x] Продление линий на превью дневника, если есть только 1 значение

### Сборка №14

Общее:

- [x] React v18. Обновлены все библиотеки.
- [x] Новая архитектура React. Увеличено быстродейстие и оптимизация кода.
- [x] Кнопки на модальных окнах привязаны к кнопкам на клавиатуре

Планировщик:

- [x] Редактирование типа события в планировщике (по дате или по расписанию на неделе)

Время:

- [x] Введен учет часового пояса при выборе даты (проблема полуночи)
- [x] Учет часового пояса при выборе времени (отображается локальное время с учетом часового пояса, при изменении пояса событие призойдет в одно и то же время)
- [x] Все временные метки привязаны к UTC и подстраиваюися под часовой пояс
- [x] Локализованы даты, время и дни недели

Дневники:

- [x] Редактирование параметров дневника через конструктор
- [x] Подсказки в разделах конструктора дневника
- [x] Добавлены поля настройки агрегации в конструктор дневника
- [x] Добавлено редактирование и удаление записей в дневниках
- [x] Добавлена полная очистка лога дневника
- [x] Подсказка с параметрами дневника на окне просмотра
- [x] Переключение типа графика в окне просмотра дневника
- [x] Всплывающие подсказки на графиках c отображением диапазона агрегации и значения (на линейных графиках подсказки появляются одновременно по вертикальному срезу)
- [x] Данные всех дневников приведены в 1 формат для простой конвертации
- [x] Убраны персчеты данных для отрисовки графика при переходе в просмотр дневника и смене типа графика (увеличено быстродействие)

### Сборка №13

- [x] Карусель: убрано автоматическое масштабироание активной плитки
- [x] Исправлена ошибка с вылетом при вызове слайдера вложений в чате
- [x] Дополнена темная тема, присвоены цвета компонентам
- [x] Дополнен механизм создания чата

### Сборка №12

- [x] Рефакторинг планировщика (декомпозированы конструкторы, разные формы и структура)
- [x] Дополнены переводы
- [x] Доработан компонент карусели. Быстрее реакция, меньше багов.
- [x] Дневники и переменные
  - - [x] Добавлены единицы измерения в логе дневника
  - - [x] Добавлен цвет выражений на графике в логе дневника
  - - [x] Добавлены единицы измерения при создании переменной
  - - [x] Добавлен цвет иконок переменных в разделе дневников
  - - [x] Изменён формат вывода иформации на превью дневника
  - - [x] Исправлен расчёт значений графика на превью дневника
  - - [x] Редактирование дневника
  - - [x] Создание копии дневника

### Сборка №11

- [x] i18n интернационализация
- [x] Выделение выбраного (активного) элемента на слайдерах (карусели)

### Сборка №9

- [x] Добавлены уведомления о необходимости консультации со специалистом (в разделе медикаментов)
- [x] Исправлено вылетание приложение в разделе медикаментов

### Сборка №8

- [x] Дополнена валидация формы медикамента при создании события в планировщике
- [x] Заблокирован тап по карусели в режиме при блокировке скролла

### Сборка №7

- [x] Заглушка на медикаментах о снятии ответственности с разработчиков
- [x] Дозировка медикамента вынесена в планировщик (в окне создания задачи)
- [x] Единицы измерения для каждого типа медикамента (индивидуально, список на выбор)

### Сборка №4

- [x] Изменены стили диалоговых окон
- [x] Изменён стиль календаря в веб
- [x] Объеденены стили компонентов используемых несколько раз (такие как поля ввода)
- [x] Автозаполнение дневников доступно администраторам (в целях тестирования и демонстрации)

### Сборка №3

- [x] Роли пользователей и права доступа
- [x] Кабинет администратора и управление пользователями
- [x] Исправлено каскадное удаление даных пользователей

### Сборка №2

- [x] Приложение переименовано, теперь в файловой системе оно имеет идентификатор и название "Wellness Monitor"
- [x] Изменены цвета placeholders в тёмной теме
- [x] Переотрисовка календаря при смене темы
- [x] Тёмная тема стала ещё темнее
- [x] Светлая тема стала еще светлее (и в одной цветовой палитре)
- [x] Добавлена заглушка на чаты (для начинающих)
- [x] Изменен текст на диалогах запросов прав доступа
- [x] Повторный запрос прав доступа к галерее и камере (если ранее отклонили)
- [x] Использование веб-камеры в браузере
- [x] Добавлен tooltip на кнопки
- [x] Уменьшен общий размер пакета используемых библиотек на 15-20%
- [x] Локализован календарь
- [x] Автофокус на поле ввода в чате

## v0.1

### Сборка №64

- [x] Изменена палитра цветов в темах
- [x] Выделена кнопка удаления профиля
- [x] Понижена яркость аватаров в тёмной теме

### Сборка №63

- [x] Скрыто автозаполнение дневников в production mode
- [x] Тёмная тема
  - - [x] Инициализация приложения с темой устройства
  - - [x] Переключение темы. Тёмная/Светлая
  - - [x] Сохранение темы
  - - [x] Цвета для тёмной темы
- [x] Расширенные возможности разблокировки
  - - [x] PIN Screen: переписан, больше возможностей, лучше выглядит
  - - [x] PIN Screen: доступна разблокировка по IPhone pin/TouchID/FaceID
- [x] Исправлен баг с последней датой в дневнике при отсутствии данных

### Сборка №62

- [x] Многострочный ввод сообщения в чате
- [x] Перенос строки сообщения через ctrl+enter или shift+enter
- [x] Выбор группы сообщений (удерживая клавишу shift)
- [x] Исправлен баг с отсутствием графика дневника при малом датасете
- [x] Испрвавлены префиксы и суфиксы в датасетах дневника

### Сборка №61

- [x] Исправлены некоторые орфографические ошибки и стиль заголовка в конструкторе чата

### Сборка №60

- [x] Добавлен копирайт экран авторизации и регистрации в приложении и на сайте

### Сборка №59

- [x] Английский язык по дефолту

### Сборка №58

- [x] Настройки чата
- [x] Групповые чаты
  - - [x] Конструктор чатов (выбор участников, название беседы, смена ролей и аватара и т.п.)
  - - [x] Выход из чата (оба режима, как в личной переписке)
  - - [x] Роли пользователей в чате (админ/пользователь)
  - - [x] Назначение нового админа, когда выходит последний админ
          ˚™

### Сборка №54

- [x] Выход из чата с сохраненем переписки
- [x] Удаление чата, cтирание переписки (персонально для каждого пользователя в чате)
- [x] Оповещения и создание чата у пользователя при получении сообщения

### Сборка №53

- [x] Пагинация чатов (подгрузка данных по частям)
- [x] Сообщенияи юзеры в виде массивов
- [x] Создание чата на стороне сервера
- [x] Добавление чата пользователям после 1 сообщения в нём
- [x] Выход из чата
- [x] При выходе последнего юзера чат удаляется

### Сборка №52

- [x] Добавлена работа с массивами
- [x] Пагинация данных пользователя (подгрузка данных по частям)
- [x] Добавлена валидация выражений в конструкторе дневников (уменьшение кол-ва ошибок)

### Сборка №50

- [x] Дополнен словарь интернационализации
- [x] Уменьшен размер приложения, уменьшена избыточность в объёме библиотек

### Сборка №49

- [x] Автозаполнение дневников одним запросом на сервер
- [x] Fix размер лога при просмотре дневника на больших экранах
- [x] Постраничная подгрузка и поиск медикаментов
- [x] Ограничение истории при заргузке дневников (выдается за последний месяц)
- [x] Сообщения в чате разделены по датам, в сообщении указывается только время
- [x] Fix подгрузки медикаментов при скролле

### Сборка №46

- [x] Повторная отправка письма для верификации аккаунта
- [x] Fix счётчик непрочитанных сообщений

### Сборка №44-45

- [x] Работа при получении уведомлений в фоновом режиме
- [x] Уменьшение обьема данных в передаваемом токене между сервером и клиентом для идентификации юзера
- [x] Смена пароля по почте
- [x] Короткие ссылки в письмах на почту при помощи передачи html

### Сборка №43

- [x] Удаление чата (для создателя)
- [x] Удаление файлов с сервера при удалении сообщений/чата
- [x] Fix комбинирования типов вложений в одном сообщении
- [x] Подтверждение регистрации по почте
- [x] Создание пресета только после подтверждения (сокращение мусора в БД)
- [x] Обработка нажатия на уведомления в фоновом режиме

### Сборка №41

- [x] HotFix зависаний в связи с новыми зависимостями новой версии React (добавлены недостающие)
- [x] Сокращено количество переотрисовок чата при выборе сообщений
- [x] Fix позиции input в чате при смене ориентации телефона (при открытой клавиатуре)
- [x] Fix позиции всех элементов при появлении клавиатуры на мобилках
- [x] Обновлены все react-библиотеки, JDK, SDK (поднял актуальность стека еще на 3-4 года)
- [x] Дополнен словарь переводов (интернационализация)

### Сборка №38

- [x] HotFix стилей вложений
- [x] Ограничение количества вложений до 10
- [x] Ограничение высоты области вложений на экране
- [x] Скролл вложений (область не выходит за пределы экрана)
- [x] Уведомление при загрузке файлов из чата
- [x] Обработка нажатия на уведомления (файл открывается)

### Сборка №37

- [x] HotFix стилей сообщений
- [x] Выбор сообщений по клику без контекстного меню
- [x] Вложения триггерятся вне зависимости от режима работы с сообщением

### Сборка №34

- [x] HotFix стилей сообщений в режиме выбора
- [x] Confirm при удалении сообщений

### Сборка №33

- [x] Нажатия на сообщение не триггерят вложения
- [x] Галерея открывается с изображения на которое нажали (а не с первого)
- [x] Выбраные сообщения помечаются цветом и checkBox справа
- [x] Клик по сообщению обрабатывается по всей ширине области чата (и по высоте сообщения)

### Сборка №32

- [x] Пометка о том, что сообщенение редактировалось
- [x] Панель действий в шапке чата (в режиме выбора сообщений)
- [x] Прикрепление нескольких изображений в чате
- [x] Просмотр изображений в сообщении в виде галереи в диалоговом окне
- [x] Прикрепление нескольких документов в чате
- [x] Скачивание документов в чате
- [x] Редедактирование вложений в чате

### Сборка №31

- [x] Рефакторинг механизма интернационализации для возможности добавления любого языка
- [x] Исправлен текст сообщений на экране PIN кода
- [x] Действия с сообщениями:
  - - [x] Выбор (только из своих)
  - - [x] Редактирование (только из своих)
  - - [x] Удаление одного (только из своих)
  - - [x] Удаление выбраных

### Сборка №30

**Общее**

- [x] Убрано инвертирование скролла в чате
- [x] Анимация на время загрузки данных
- [x] Разрешены дробные значения в диалоговых окнах
- [x] Поднятие контента при появлении клавиатуры (не перекрывает)
- [x] Интернационализация приложения для ru/en сегментов
- [x] Исправлены анимация ожидания при заполнении дневников
- [x] Исправлен выход сообщения об ошибке в диалогах за пределы окна

**PIN code**

- [x] Блокировка
  - - [x] Ограничение количества попыток
  - - [x] Блокировка экрана на время
  - - [x] Стилизация экрана блокировки

**Проверка наличия связи**

При осутствии связи:

- [x] Не отправляются сообщения в чате
- [x] Все данные кэшируются на устройстве
- [x] Пользователь уведомляется в профиле

**Оффлайн режим**

- [x] Отстлеживание подключения к сети
- [x] Уведомление пользователя об отсутствии подключения к сети
- [x] Отслеживание ошибок сервера
- [x] Отслеживание отсутствие связи с сервером
- [x] Уведомление пользователя об ошибке передачи данных
- [x] Сохранение данных в очередь синхронизации
- [x] Синхронизация при появлении связи или перезагрузке приложения
- [x] Проверка на актуальность данных

**Чат**

- [x] Запрет отправки сообщений при отсутствии связи
- [x] Подсчёт непрочитанных сообщений
- [x] Синхронизация прочитанных сообщений при выборе чата
- [x] Автосинхронизация для текущего чата (если какой-либо чат открыт)
- [x] Уведомление пользователя об отсутствии связи с сервером (realtime)

### Сборка №29

- [x] Исправлена валидация данных в диалоговом окне (prompt)

### Сборка №28

- [x] Настроена система сбора метрик Prometheus
- [x] Настроен сервис мониторинга метрик Grafana
- [x] Сжатие передаваемых данных на Nginx
- [x] Сжатие JS/CSS кода перед при сборке приложения на сервере
- [x] Обфускация кода (сокрытие исходников, меньше обьём передаваемого кода)
- [x] Отображение миниатюр картинок в чате до подгрузки полноразмерных
- [x] Сжатие картинок при сохранении

### Сборка №27

- [x] Исправлено кол-во допустимых выражений для каждого типа графика дневника
- [x] Исправлен баг с пропаданием цвета в конструкторе дневников после перехода в другие меню

### Сборка №25

**Исправлено:**

- [x] Ошибка при пустом логине
- [x] Ошибка при отсутствии аватара в чате

**Добавлено:**

- [x] Мониторинг системы при помощи Sentry

### Сборка №24

- [x] Сворачивание уведомлений по категориям. (Показывается только последнее из категории)
- [x] Выход из аккаунта на всех утройствах при удалении данных учётной записи из БД
- [x] Удаление профиля
- [x] Переписаны модальные окна на более стабильной и кроссплатформенной библиотеке.
- [x] Добавлена проверка на наличие переменных в выражении конструктора дневника. (Выражение не может состоять из констант)

### Сборка №23

- [x] Шапка в дневниках на мобильных устройствах
- [x] Firebase messaging
  - [x] Уведомления о новых чатах
  - [x] Уведомления о новых сообщениях в чате

### Сборка №22

- [x] Проверка на существование чата при создании нового даже без обновления страницы/приложения (предотвращение дубликатов чатов)
- [x] Ссылочные данные на пользователей в чате (динамическое обновление)

### Сборка №20

- [x] Лимит на размер загружаемых картинок 2мб
- [x] Хеширование имён загружаемых картинок (уникальные имена)
- [x] Создание миниатюр при загрузке изображений
- [x] Декомпозиция БД, приведение к нормальной форме
- [x] Разрешение на \_ в email при регистрации
- [x] Исправлен баг с зависанием после перехода в планировщик

### Сборка №18-19

- [x] Работа сокетов в чате по https

### Сборка №17

- [x] Валидация почты при регистрации
- [x] Проверка наличия юзера с таким именем / почтой при регистрации
- [x] Авторизация по логину или почте
- [x] Изменена структура БД для чатов (чаты отдельно от юзеров)

### Сборка №15

- [x] Реструктурирована структура БД для чатов
- [x] Сокеты. Автообновление сообщений в чате

### Сборка №13

- [x] Ярче PIN код на мобильных устройствах
- [x] Добавление города в профиле
- [x] Автоообновление дневников после автогенерации
- [x] Обновление чатов после добавления пользователя из поиска
- [x] Более плавное сглаживание графиков
- [x] Учёт пределов при добавлении значения на график. Оповещение пользователя в случае если значение выходит за допустимые пределы.
- [x] Обновление графика дневника при добавлении значения
- [x] Добавлены единицы измерения в дневниках
- [x] Исправлен баг с NaN в дневниках
- [x] Добавлена анимация ожидания при автогенерации записей дневников

### Сборка №14

- [x] Кнопка показа пароля при авторизации
- [x] Транслитерация имён файлов при сохранении на сервере
- [x] Исправлен баг с высотой клавиатуры на iOS
- [x] Сохранение чатов у обоих собеседников
- [x] Регистронезависимый поиск

### Сборка №12

#### Чат

- [x] Реализовано меню выбора вложения с помощью клавиатуры iOS
- [x] Добавлена возможность отправлять вложения с iOS
- [x] Добавлена возможность редактировать вложение

### Сборка №11

#### Дневники

- [x] Агрегация данных на графике по выбраному периоду (при просмотра лога дневника)
- [x] Убраны точки на превью графика
- [x] На превью выводится последние 10 значений
- [x] Исправлен размер отрисовки графика (теперь по всему полотну)
- [x] Исправлен выход значения за допустимые пределы на мобильных устройствах

#### Чат

- [x] Добавлена шапка на мобильных устройствах
- [x] Очистка поля ввода при отправке с мобильных устройств
- [x] Добавлена кнопка "Назад" на мобильных устройствах
- [x] Исправлен подсчёт прошедшего времени в логе графиков

### Сборка №10

#### Редактирование в отдельном окне

- [x] Медикаменты
- [x] Дневники
- [x] События
- [x] Переменные

#### Планировщик

- [x] Удаление событий
- [x] Исправлено положение событий на доске

#### Переменные

- [x] Удаление переменных

### Сборка №9

#### Медикаменты

- [x] Поиск по базе
- [x] Валидация формы при создании

#### Дневники

- [x] Автозаполнение (в настройках профиля)
- [x] Валидация формы при создании
- [x] Поиск по базе
- [x] Просмотр в отдельном окне

#### Планировщик

- [x] Валидация формы при создании
- [x] Поиск по базе
- [x] Просмотр в отдельном окне

#### Переменные

- [x] Валидация формы при создании
- [x] Поиск по базе
- [x] Просмотр в отдельном окне

### Сборка №7

#### Дневники

- [x] Исправлен метод представления информации
- [x] Ограничение лога по выбраному периоду
- [x] Валидация формы конструктора
- [x] На превью графиков убрать агрегацию (не обьединять последние замеры)
- [x] На окно дневника перенести график с превью
- [x] Исправлен интервал дат по оси, даты не перекрываются
- [x] Автозаполнение дневников (имитация активности)
- [x] Удаление дневника

#### Медикаменты

- [x] Просмотр в отдельном окне
- [x] Удаление медикамента
